<?php
$isEdit = isset($this->setting);

$formAction = 'admin/settings/edit';

if ($isEdit)
{
	$formAction .= '/id/' . $this->setting->id;
}
?>
<h1><?php echo $isEdit ? 'Edit' : 'Add'; ?> setting</h1>
<ol class="breadcrumb">
	<li><a href="<?php echo $this->baseUrl('admin'); ?>">Admin</a></li>
	<li><a href="<?php echo $this->baseUrl('admin/settings'); ?>">Settings</a></li>
	<li class="active"><?php echo $isEdit ? 'Edit' : 'Add'; ?></li>
</ol>
<form class="form-horizontal" role="form" id="editSetting"
	action="<?php echo $this->baseUrl($formAction); ?>" method="post">
	<div class="form-group">
		<label class="control-label col-sm-2" for="name">Name:</label>
		<div class="col-sm-10">
			<input type="text" name="name" class="form-control"
				id="name" placeholder="Enter setting name"
				value="<?php echo htmlspecialchars($this->form->name->getValue()); ?>" required>
			<?php if ($this->form->name->hasErrors()): ?>
			<label id="name-error" class="error" for="name"
				><?php echo implode('<br>', $this->form->getMessages('name')); ?></label>
			<?php endif; ?>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="value">Value:</label>
		<div class="col-sm-10">
			<textarea name="value" class="form-control"
				id="value" placeholder="Enter setting value"
				><?php echo htmlspecialchars($this->form->value->getValue()); ?></textarea>
			<?php if ($this->form->value->hasErrors()): ?>
			<label id="value-error" class="error" for="value"
				><?php echo implode('<br>', $this->form->getMessages('value')); ?></label>
			<?php endif; ?>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="description">Description:</label>
		<div class="col-sm-10">
			<textarea name="description" class="form-control"
				id="description" placeholder="Enter setting description"
				><?php echo htmlspecialchars($this->form->description->getValue()); ?></textarea>
			<?php if ($this->form->description->hasErrors()): ?>
			<label id="description-error" class="error" for="description"
				><?php echo implode('<br>', $this->form->getMessages('description')); ?></label>
			<?php endif; ?>
		</div>
	</div>
	<div class="form-group">        
		<div class="col-sm-offset-2 col-sm-10">
			<button class="btn btn-primary" type="submit">Submit</button>
		</div>
	</div>
</form>
<script>
$('form#editSetting').validate();
</script>
